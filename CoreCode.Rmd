---
title: "Immigration, Gender, and Doctoral Dreariness"
author: "Aramis D. M. Valverde"
date: "12/10/2021"
output:
  pdf_document: default
  html_document: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Is It Perhaps Different Doing A PhD In A Country You Grew Up In As Opposed to One That You Moved To?
### I Mean Probably, IDK Though, Lets Find Out!



#### Abstract:



A 2019 Nature survey of doctoral students worldwide conducted by Shift Learning, [a UK based education market research and consulting firm](https://www.shift-learning.co.uk/), demonstrated that PhD students are not doing all that well. The Nature [write up by Chris Woolston](https://www.nature.com/articles/d41586-019-03459-7) noted that more than a third of PhD students have sought help for anxiety or depression caused by their their PhD studies, and more than a fifth of PhD students had experienced discrimination or harassment in their PhD program. Prior research has backed up the concept that PhD students, and graduate students at large, aren't doing terribly well. As a PhD student I thought, "yeah, I feel it, its pretty bad, I'm pretty sad.". However I reassured myself that at least I didn't have to deal with being an actual immigrant or a woman. But then one asks oneself, "huh, is it actually worse?. Maybe Bill O'Rielly was right when he said that women don't feel discrimination in the workplace."

To analyze if it is worse to be a woman or a gender queer/ non binary person, or an immigrant, as opposed to not those things, as a PhD student, I analyzed Nature's data set as published on figshare. 

The results were xyz, abc, def, ghi, jkl, mno, pqr, stu, vwx, yza.

https://group.springernature.com/gp/group/media/press-releases/archive-2019/nature-phd-survey-puts-spotlight-on-mental-health/17372858
https://www.zmescience.com/other/pieces/journals-to-blame-poor-phd-mental-health-0432/
https://www.insidehighered.com/news/2019/11/14/phd-student-poll-finds-mental-health-bullying-and-career-uncertainty-are-top
https://www.nature.com/articles/d41586-019-03535-y
https://figshare.com/articles/dataset/Data_publication_survey_raw_data/1234052
https://figshare.com/articles/dataset/Nature_Graduate_Survey_2017/5480716?file=9558301
https://www.nature.com/articles/nj7677-549a

https://phys.org/news/2019-11-nature-phd-survey-spotlight-mental.html
https://www.nature.com/articles/d41586-021-01538-2
https://www.apollo.io/people/Karen/Kaplan/54a7df517468696b7f4ceb54
https://laptrinhx.com/news/interview-with-karen-kaplan-senior-careers-editor-at-nature-E3OYqY5/


##### Introduction:

Things are hard for PhD students. Research has demonstrated a persistent and severe toll on the mental health of PhD students due to the conditions that they are put under. More than a third have sought help for anxiety and depression caused by their PhD studies, and a fifth of PhD students have experienced discrimination and harassment in their program. A [2020 study of UK PhD students](https://onlinelibrary.wiley.com/doi/abs/10.1002/capr.12437?__cf_chl_jschl_tk__=2NIUSjRMyi_VDwOrxUtn3r60rXsjnFQeqsrPfr6T7pI-1639471304-0-gaNycGzNCH0) found that 40 percent of said students were at high risk of suicide, with 8 percent having made an attempt.

That being said, every doctoral student's experience is not the same. Some student's experiences are worse. U.S. based doctoral students originating from China also have to deal with [isolation, loneliness, and alienation](https://eric.ed.gov/?id=EJ1133943). Some trans students have to deal with severe hostility or insensitivity related to their gender identity or expression, leading suicide attempts rates [four times higher than trans students who did not have that severe experience](https://psycnet.apa.org/record/2012-27680-006). It is therefore very unfortunate that this survey lumped transgendered and cisgendered people into one variable. Erasure, especially in research, has [consequential and damaging effects on trans people](https://www.sciencedirect.com/science/article/abs/pii/S1055329009001071).Gender queer and non-conforming was included, so I will attempt an analysis. However people identifying as such were few, so I may not be able to demonstrate a significant difference even if one is liable to exist. It is also important to note that gender-specific [approaches yield more accurate results, contribute to lessening the paucity of trans research, and are considered best practice](https://www.liebertpub.com/doi/full/10.1089/trgh.2020.0054).

I must note that I am a minority doctoral student myself. While I am a minority in my department and in my country, I am not an immigrant, nor am I a minority in the state or city where I am studying (Merced, California). I struggle with no language barrier, no one chides me for my voice, and I can travel freely throughout my campus and the city I reside in. I note this because, while my analysis of the data stands on its own, my identity is such that I am not able to speak from direct experience, and that is a limitation within this work.

I was lead to this dataset by a [tidytuesday post on github](https://github.com/rfordatascience/tidytuesday/issues/153), and this research was completed as the final assignment for Dr. Dan Hicks' [data science methods course](https://data-science-methods.github.io/project/) at UC Merced. The data set used in this analysis was sourced from [this figshare page](https://figshare.com/s/74a5ea79d76ad66a8af8).




#### Methods

##### The PhD Student Survey's History

Nature has had a survey of doctoral students conducted every two years for ten years. The latest survey, conducted in 2019, was advertised by Nature in its "Career News" section, and was titled, "Nature calling: take our PhD survey". This survey was conducted by an English corporation by the name of Shift Insight. Shift Insight is the owning and operating body of Shift Learning, Shift Sustainability, and Shift Membership https://shift-insight.co.uk/about-shift-insight/. This corporation is owned by Jane Powellhttps://www.linkedin.com/in/jenny-kedros-3074471a/, a former Publisher at Pearson and Palgrave Macmillan. Shift Insight mainly performs market researchhttps://shift-insight.co.uk/research-reports-and-blogs/, however as with the Nature survey they also conduct public facing research for large institutions. Most staff at Shift Insights have a marketing, writing, or publishing background.

Their website's language seems to demonstrate commitments to data securityhttps://shift-insight.co.uk/quality-and-values/, however these amount to either declarations of compliance strictly within the confines of the law, or membership with non-binding commerce and industry associations. Unfortunately for participants, the 2019 survey failed to remove all personally identifying information, specifically the emails of two students and the names of two others, according to my own analysis where I found two names and emails. 

The finance director and data compliance officer, Jack Wilsonhttps://www.linkedin.com/in/jack-wilson-0751853/, appears to have no credentials to handle said data, unlike some of his co-workers, and seems to have been educated at "LAMBDA" without any named degree, according to their linkedin profile. While I could not locate a university by the name of LAMBDA, it is possible that this education was associated with a fraternal organization,and it is also quite possible that Jack Wilson graduated with that education at the top of their class. I mention this not because I want to dunk on these people, but rather because their seemingly irresponsible handling of data could have some real consequences for those people who have had their data exposed. I also mention this because Shift appears to have existed for 20 years but has only had moderately to mildly credentialed persons on staff for seven yearshttps://www.linkedin.com/search/results/people/?currentCompany=%5B%222294535%22%5D&origin=COMPANY_PAGE_CANNED_SEARCH&sid=3Ve, with the only visible doctorate holder entering the company November 2021https://www.linkedin.com/in/daisy-alero-emoekabu-phd-b22b2319/. This, along with the founders' recent certification and education in R may help explain why the data arrived in a state that was not in line with tidy data principles, and why the analysis of the data was relatively limited. The privacy statement, limited as it was, may have also been broken by the lack of proper anonymizationhttps://shift-insight.co.uk/privacy-policy/.


https://shift-insight.co.uk/about-shift-insight/#our-team

##### The PhD Student Survey's Line of Custody
The data appears to have passed through the hands of at least three people, Elsie Lauchlanhttps://www.linkedin.com/in/elsie-lauchlan-990276a3/, the primary researcher for the analysis, David Paynehttps://www.linkedin.com/in/david-payne-0a681013/?originalSubdomain=uk, The managing editor at Careers and Supplements at Nature Springer, and Karen Kaplanhttps://www.linkedin.com/in/karen-kaplan-03186b9/, the senior editor at Nature's careers section. According to the version control sheet in the survey script, there were four versions of the analysis or survey. That is very few, and further analysis could have been forsaken due to cost, as the same page notes that additional changes may involve extra costs.

The complete list of questions is available in the data documentation, specifically the .docx file therein. 

##### Limitations
The survey has a couple of issues with it.
First is the fact that the data has been cleaned to an extent that has not been disclosed by shift insights. The amount of anonymization and the methods of cleaning the data from the vendor or software that was used to produce the data is not fully and clearly disclosed. Because of this we have no way of discerning what was removed or how the data was manipulated. I also could not attempt the ordinal surevy, as the link had expired., https://wh1.snapsurveys.com/s.asp?k=162210914288&s=article it does appear to have been conducted through Snapsurveys.comhttps://www.snapsurveys.com/survey-software/pricing/. 

Second is the fact that the participant pool is liable to have been skewed because of the method of advertisement (via Nature Careers) and because Shift Insights seems to reuse participantshttps://shift-insight.co.uk/respondent-faqs/. Even within this survey there were questions and language to indicate that this survey was also used to recruit to their participant pool. Because of their commercial interests and focus on market research, it is possible that their existing participant pool is incidentally selecting against some traits. For example, I am not liable to respond to an email from some random corporation doing market research, because I don't respect market researchers. This is partially mitigated against by the fact that some PhD students appear to have thought that Nature was conducting the survey and not Shift Insights, as they responded as if the people conducting the survey had some sort of authority in spite of the fact that they've nothing of the sort.

Third is the fact that the survey was only conducted in the aforementioned five languages. Persons from other parts of the world who communicate in languages that arent English, Portugese, iohu;aerg aeruhkljn and hioaerg; are not likely to have responded to the survey. There is also the issue that persons from certain countries were not given the option to select their country. Taiwan made up the vast majority of write in answers for country of origin in Asia.

Fourth is a lack of representation. There is little mention or analysis of non cisgendered persons, and there is no capacity for me to take a gender specific analysis of the data as mentioned prior.

Finally, we have the issue that these are self reported data and that that participants may have wanted to introduce their own positive self perceptions. Some participants may have had some concerns about putting this information in a website for fear that their comments may make them identifiable. For at least four students, these sorts of concerns would have certainly been warranted. The participants may have also wanted to present themselves in a positive light more generally. Given the doctoral community is more than a little neurotic, there are a myriad of manners by which this data could have been skewed.



#### Code and Analysis

paste this in to hide output, code, and code: {r someVar,results='hide', echo=FALSE,include=FALSE}

Load in Libraries and Installations
```{r}
library(tidyverse)
library(readxl)
library(ggplot2)
library(tinytex)
library(RColorBrewer)
library(ggdist)
library(waffle)
library(dplyr)
```
Load in data set that I downloaded from the link above(and which I placed into a "data" folder within the project folder) and check that it imported properly
```{r}
dfog <- read_excel("data/Nature_PhD survey_Anon_v1.xlsx")
```
This is meant to ensure that it all was imported properly
```{r}
glimpse(dfog)
```
Just to check that the top line has been preserved.
```{r}
head(dfog)
```




##### DATA WRANGLIN' AN' CLEANIN'

Creation of ancillary duplicate data frames
```{r}
df1 <- dfog
df2 <- df1 
df3 <- df2 
```
Remove the top row and use the second row (the questions themselves) as the column identifier. The semicolons and periods in the top row creates many issues
```{r}
df4<-df3
names(df4) <- as.matrix(df4[1, ])
df4 <- df4[-1, ]
df4[] <- lapply(df4, function(x) type.convert(as.character(x)))
```
remove all columns where all values are NA
```{r}
df5 <- df4
df6a <- df5[ , colSums(is.na(df4)) < nrow(df4)]
```

Rename columns that currently have the same name, as that causes issues. Rename column 117 name in df6a, because the column name in that position is blank. I am not sure how the bottom portion works with attributing df6 to df6a after I declared df6, but it does. I tried it other ways and it didn't output df6. To test this, please do comment out df6 <- df6a and test yourself. I use this work flow to rename all repeated bits, because doing it any other way wont work. dplyr's tools didnt work, renaming was only accomplished with base r.
```{r}
df6 <- df6a
df6 <- names(df6a)[117] <- "How much do you expect your PhD to improve your job prospects?"     ###AV Coulumn name/question is sourced from Nature_GradSurvey_Script2019_Final1.docx, named because it was blank


###AV Rename all duplicates of "If other, please specify" and make unique
df6 <- names(df6a)[12] <- "specified1" 
df6 <- names(df6a)[16] <- "specified2" 
df6 <- names(df6a)[22] <- "specified3" 

df6 <- names(df6a)[34] <- "specified4" 
df6 <- names(df6a)[37] <- "specified5" 
df6 <- names(df6a)[54] <- "specified6" 
df6 <- names(df6a)[79] <- "specified7" 
df6 <- names(df6a)[89] <- "specified8"

df6 <- names(df6a)[104] <- "specified9" 
df6 <- names(df6a)[116] <- "specified10" 
df6 <- names(df6a)[139] <- "specified11" 
df6 <- names(df6a)[141] <- "specified12" 
df6 <- names(df6a)[146] <- "specified13" 

df6 <- names(df6a)[158] <- "specified14" 
df6 <- names(df6a)[173] <- "specified15" 
df6 <- names(df6a)[183] <- "specified16" 
df6 <- names(df6a)[191] <- "specified17" 
df6 <- names(df6a)[200] <- "specified18"

df6 <- names(df6a)[225] <- "specified19" 
df6 <- names(df6a)[233] <- "specified20" 
df6 <- names(df6a)[239] <- "specified21" 
df6 <- names(df6a)[255] <- "specified22" 
df6 <- names(df6a)[261] <- "specified23"



###AV Rename all duplicates of "What prompted you to study outside your country of upbringing" and make unique
df6 <- names(df6a)[23] <- "prompt to study outside country of upbringing1" 
df6 <- names(df6a)[24] <- "prompt to study outside country of upbringing2" 
df6 <- names(df6a)[25] <- "prompt to study outside country of upbringing3" 
df6 <- names(df6a)[26] <- "prompt to study outside country of upbringing4" 
df6 <- names(df6a)[27] <- "prompt to study outside country of upbringing5" 
df6 <- names(df6a)[28] <- "prompt to study outside country of upbringing6" 
df6 <- names(df6a)[29] <- "prompt to study outside country of upbringing7" 
df6 <- names(df6a)[30] <- "prompt to study outside country of upbringing8" 
df6 <- names(df6a)[31] <- "prompt to study outside country of upbringing9" 
df6 <- names(df6a)[32] <- "prompt to study outside country of upbringing10" 
df6 <- names(df6a)[33] <- "prompt to study outside country of upbringing11" 


###AV Rename all duplicates of "Who was the perpetrator(s)" and make unique
df6 <- names(df6a)[97] <-  "positionOfPerpetrator1" 
df6 <- names(df6a)[98] <-  "positionOfPerpetrator2" 
df6 <- names(df6a)[99] <-  "positionOfPerpetrator3" 
df6 <- names(df6a)[100] <- "positionOfPerpetrator4" 
df6 <- names(df6a)[101] <- "positionOfPerpetrator5" 
df6 <- names(df6a)[102] <- "positionOfPerpetrator6" 
df6 <- names(df6a)[103] <- "positionOfPerpetrator7" 


###AV Rename all duplicates of "Which of the following have you experienced?" and make unique
df6 <- names(df6a)[107] <- "experience1" 
df6 <- names(df6a)[108] <- "experience2" 
df6 <- names(df6a)[109] <- "experience3" 
df6 <- names(df6a)[110] <- "experience4" 
df6 <- names(df6a)[111] <- "experience5" 
df6 <- names(df6a)[112] <- "experience6" 
df6 <- names(df6a)[113] <- "experience7" 
df6 <- names(df6a)[114] <- "experience8" 
df6 <- names(df6a)[115] <- "experience9" 


###AV Rename all duplicates of "If youâ€™re unlikely to pursue an academic research career, what are the main reasons??" and make unique
df6 <- names(df6a)[130] <- "reasonUnlikelyAcademicCarreerPursuit1" 
df6 <- names(df6a)[131] <- "reasonUnlikelyAcademicCarreerPursuit2" 
df6 <- names(df6a)[132] <- "reasonUnlikelyAcademicCarreerPursuit3" 
df6 <- names(df6a)[133] <- "reasonUnlikelyAcademicCarreerPursuit4" 
df6 <- names(df6a)[134] <- "reasonUnlikelyAcademicCarreerPursuit5" 
df6 <- names(df6a)[135] <- "reasonUnlikelyAcademicCarreerPursuit6" 
df6 <- names(df6a)[136] <- "reasonUnlikelyAcademicCarreerPursuit7" 
df6 <- names(df6a)[137] <- "reasonUnlikelyAcademicCarreerPursuit8" 
df6 <- names(df6a)[138] <- "reasonUnlikelyAcademicCarreerPursuit9" 

###AV Rename all duplicates of "How did you arrive at your current career decision? Plea..." and make unique
df6 <- names(df6a)[147] <- "HowArriveAtCareerDecision1" 
df6 <- names(df6a)[148] <- "HowArriveAtCareerDecision2" 
df6 <- names(df6a)[149] <- "HowArriveAtCareerDecision3" 
df6 <- names(df6a)[151] <- "HowArriveAtCareerDecision4" 
df6 <- names(df6a)[152] <- "HowArriveAtCareerDecision5" 
df6 <- names(df6a)[153] <- "HowArriveAtCareerDecision6" 
df6 <- names(df6a)[154] <- "HowArriveAtCareerDecision7" 
df6 <- names(df6a)[155] <- "HowArriveAtCareerDecision8" 
df6 <- names(df6a)[156] <- "HowArriveAtCareerDecision9" 
df6 <- names(df6a)[157] <- "HowArriveAtCareerDecision10" 

###AV Rename all duplicates of "How do you learn about available career opportunities that are beyond academia?" and make unique
df6 <- names(df6a)[159] <- "HowLearnCareerNotAcademia1" 
df6 <- names(df6a)[160] <- "HowLearnCareerNotAcademia2" 
df6 <- names(df6a)[161] <- "HowLearnCareerNotAcademia3" 
df6 <- names(df6a)[162] <- "HowLearnCareerNotAcademia4" 
df6 <- names(df6a)[163] <- "HowLearnCareerNotAcademia5" 
df6 <- names(df6a)[164] <- "HowLearnCareerNotAcademia6" 
df6 <- names(df6a)[165] <- "HowLearnCareerNotAcademia7" 
df6 <- names(df6a)[166] <- "HowLearnCareerNotAcademia8" 
df6 <- names(df6a)[167] <- "HowLearnCareerNotAcademia9" 
df6 <- names(df6a)[168] <- "HowLearnCareerNotAcademia10" 
df6 <- names(df6a)[169] <- "HowLearnCareerNotAcademia11" 
df6 <- names(df6a)[170] <- "HowLearnCareerNotAcademia12" 
df6 <- names(df6a)[171] <- "HowLearnCareerNotAcademia13" 
df6 <- names(df6a)[172] <- "HowLearnCareerNotAcademia14" 

###AV Rename all duplicates of "Which of the following 3 things would you say are the most difficult for PhD students in your discipline?" and make unique
df6 <- names(df6a)[174] <- "DifficultInDiscipline1" 
df6 <- names(df6a)[175] <- "DifficultInDiscipline2" 
df6 <- names(df6a)[176] <- "DifficultInDiscipline3" 
df6 <- names(df6a)[177] <- "DifficultInDiscipline4" 
df6 <- names(df6a)[178] <- "DifficultInDiscipline5" 
df6 <- names(df6a)[179] <- "DifficultInDiscipline6" 
df6 <- names(df6a)[180] <- "DifficultInDiscipline7" 
df6 <- names(df6a)[181] <- "DifficultInDiscipline8" 
df6 <- names(df6a)[182] <- "DifficultInDiscipline9" 


###AV Rename all duplicates of "Which of the following would you say are the most difficult for PhD students in the country where you are studying?" and make unique
df6 <- names(df6a)[184] <- "DifficultInCountry1" 
df6 <- names(df6a)[185] <- "DifficultInCountry2" 
df6 <- names(df6a)[186] <- "DifficultInCountry3" 
df6 <- names(df6a)[187] <- "DifficultInCountry4" 
df6 <- names(df6a)[188] <- "DifficultInCountry5" 
df6 <- names(df6a)[189] <- "DifficultInCountry6" 
df6 <- names(df6a)[190] <- "DifficultInCountry7" 

###AV Rename all duplicates of "Which of the following resources do you think PhD students need the most in order to establish a satisfying career?" and make unique
df6 <- names(df6a)[192] <- "ResourcesForSatisfyingCareer1" 
df6 <- names(df6a)[193] <- "ResourcesForSatisfyingCareer2" 
df6 <- names(df6a)[194] <- "ResourcesForSatisfyingCareer3" 
df6 <- names(df6a)[195] <- "ResourcesForSatisfyingCareer4" 
df6 <- names(df6a)[196] <- "ResourcesForSatisfyingCareer5" 

df6 <- names(df6a)[197] <- "ResourcesForSatisfyingCareer6" 
df6 <- names(df6a)[198] <- "ResourcesForSatisfyingCareer7" 
df6 <- names(df6a)[199] <- "ResourcesForSatisfyingCareer8" 

###AV Rename all duplicates of "Which, if any, of the following activities have you done to advance your career?" and make unique
df6 <- names(df6a)[217] <- "ActivitiesToAdvanceCareer1" 
df6 <- names(df6a)[218] <- "ActivitiesToAdvanceCareer2" 
df6 <- names(df6a)[219] <- "ActivitiesToAdvanceCareer3" 
df6 <- names(df6a)[220] <- "ActivitiesToAdvanceCareer4" 
df6 <- names(df6a)[221] <- "ActivitiesToAdvanceCareer5" 

df6 <- names(df6a)[222] <- "ActivitiesToAdvanceCareer6" 
df6 <- names(df6a)[223] <- "ActivitiesToAdvanceCareer7" 
df6 <- names(df6a)[224] <- "ActivitiesToAdvanceCareer8" 


###AV Rename all duplicates of "Which of the following social media networks have you used to build your professional network" and make unique
df6 <- names(df6a)[226] <- "SocialMediaToBuildNetwork1" 
df6 <- names(df6a)[227] <- "SocialMediaToBuildNetwork2" 
df6 <- names(df6a)[228] <- "SocialMediaToBuildNetwork3" 
df6 <- names(df6a)[229] <- "SocialMediaToBuildNetwork4" 
df6 <- names(df6a)[230] <- "SocialMediaToBuildNetwork5" 
df6 <- names(df6a)[231] <- "SocialMediaToBuildNetwork6" 
df6 <- names(df6a)[232] <- "SocialMediaToBuildNetwork7" 

###AV Rename all duplicates of "What would you do differently right now if you were starting your programme?" and make unique
df6 <- names(df6a)[234] <- "DoDifferently1" 
df6 <- names(df6a)[235] <- "DoDifferently2" 
df6 <- names(df6a)[236] <- "DoDifferently3" 
df6 <- names(df6a)[237] <- "DoDifferently4" 
df6 <- names(df6a)[238] <- "DoDifferently5" 


###AV Rename all duplicates of "Which of the following best describes you?" and make unique
df6 <- names(df6a)[243] <- "BestDescribes1" 
df6 <- names(df6a)[244] <- "BestDescribes2" 
df6 <- names(df6a)[245] <- "BestDescribes3" 
df6 <- names(df6a)[246] <- "BestDescribes4" 
df6 <- names(df6a)[247] <- "BestDescribes5" 

df6 <- names(df6a)[248] <- "BestDescribes6" 
df6 <- names(df6a)[249] <- "BestDescribes7" 
df6 <- names(df6a)[250] <- "BestDescribes8" 
df6 <- names(df6a)[251] <- "BestDescribes9" 
df6 <- names(df6a)[252] <- "BestDescribes10"

df6 <- names(df6a)[253] <- "BestDescribes11" 
df6 <- names(df6a)[254] <- "BestDescribes12"


###AV Rename all duplicates of "Do you have any caring responsibilities" and make unique
df6 <- names(df6a)[256] <- "CaringResponsibilities1" 
df6 <- names(df6a)[257] <- "CaringResponsibilities2" 
df6 <- names(df6a)[258] <- "CaringResponsibilities3" 
df6 <- names(df6a)[259] <- "CaringResponsibilities4" 
df6 <- names(df6a)[260] <- "CaringResponsibilities5" 



###AV Final Important Bits, one more rename and the declaration that makes renaming work.
df6 <- names(df6a)[242] <- "Gender" 
df6 <- names(df6a)[13]  <- "Immigrant" 
df6 <- df6a

###AV Workflow Notes
###AV This bit told me what I am missing to rename and make not identical
###rename(df6, combine1 = 150)

###AV This is the template I used to fill in the above.
####AV Rename all duplicates of "" and make unique
#df6 <- names(df6a)[] <- "" 
#df6 <- names(df6a)[] <- "" 
#df6 <- names(df6a)[] <- "" 
#df6 <- names(df6a)[] <- "" 
#df6 <- names(df6a)[] <- "" 



###Finished Product: df7
df7 <- df6

```

Combine demographic data
```{r}
df8 <- unite(df7, "ethnicityGroupedOther",  243:254, remove = FALSE, na.rm = TRUE)
#df7 %>% unite("ethnicityOtherWriteInIncluded", 2,remove= FALSE) specified22 is variable that has the write in ethnicity data
df9 <- unite(df8, "ethnicityOtherWriteInNotYetIncluded", 244:252, remove = FALSE, na.rm = TRUE)
###AV Ensure that all NA values remain as NA, as the above unite processes seem to convert NA to blanks after uniting. Comment out the 2 lines below to confirm.
df10 <- df9 
df10[df10 == ""] <- NA 
###AV finally combine them all
df11 <- unite(df10, "ethnicityOtherWriteInIncluded", c('ethnicityOtherWriteInNotYetIncluded', 'specified22') , remove = FALSE, na.rm = TRUE)
```

---Everything Below this line probably requires df12 or some variation of df11---


Well, doing the above combination wasnt quite that useful, because now I will focus on PEOPLE WHO MOVED INTO A COUNTRY FROM ELSEWHERE AND GENDER. Not on ethnicity. But this is EDA, so the clear and distinct lack of direction is a feature, not a bug.

##### May also want to analytse how satisfied are you with decision to pursue a phd, Q no.16, or Q17, q22 time with advisors, anxiety 25, bullying 28,discrimination or harassment 30, 31 what have you experienced 31, how asatisfied for later perhaps q 19 

###Note,  column 13 data frame 11 immigration, are you studying in the country you grew up in?

## Immigration Analysis against Training and Readiness (Q50)

Immigration count and gender proportion analysis, and data frame creation
```{r}
###Output A Table and dataframe with the values needed
tableImmigrant <- table(df11['Immigrant'])
ImmigrantCount<- as.data.frame(tableImmigrant)

###Proportional Analysis
ImmigrantProportion <- as.data.frame(table(df11$Immigrant)/length(df11$Immigrant))
###Display Output genderProportion
ImmigrantProportion
```

Creation of different data frames for analysis by Immigrant, against training efficacy for certain tasks(Q50).
```{r}
df12Imm <- df11[c(13,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216)]

df12ImmNo <- df12Imm[df12Imm$'Immigrant' == 'Yes',]
df12ImmYes <- df12Imm[df12Imm$'Immigrant' == 'No',]

```

Whole workflow for analysis using "Male (including trans male)" value row selection
```{r}

###Select relevant columns/variables

### Rename Variable/Column to be analyzed, the dependent, by index
df13Imm <- df12Imm
df14Imm <- df13Imm
df14Imm <- names(df13Imm)[2] <- "Collecting"
df14Imm <- df13Imm


###Plot the bit
#ggplot(df14M, aes( Collecting, colour = Gender)) +   geom_bar() ###Just another way to plot the data

barplotMCollectingData <- ggplot(df14Imm, aes( Collecting, colour = Immigrant)) + 
  geom_bar()+
  scale_x_discrete(guide = guide_axis(n.dodge=2))

###Display Plot
barplotMCollectingData

```

Analysis for Collecting Data Variable against Gender, Count and Proportion
```{r}
###Output A Table and dataframe, possible first step in analysis given grouping. difficult to say, would replace collecting with M, F, GQNB, as derived from dfM, dfF, dfGQNB, then combine, then analyze.
#Collecting <- table(df12['Collecting'])
#genderVsCollecting <- as.data.frame.array(Collecting)
#genderVsCollecting


###Proportional Analysis
CollectingProportion <- as.data.frame(table(df12$Collecting)/length(df12$Collecting))
###Display Output
CollectingProportion
```

Some data transformations and a rename, so that I could copy and paste from online sources which predominantly use "df" or "data" and not df23 or whatever I'm doing. Here is where I seem to have renamed df12's Collecting column and not df12m's, accounting for the difference between the two.
```{r}

df15 <- names(df12)[1]  <- "Collecting"
df15 <- names(df12)[2]  <- "Analyzing"
df15 <- names(df12)[3]  <- "Designing"
df15 <- names(df12)[4]  <- "Writing"
df15 <- names(df12)[5]  <- "DevResistance"
df15 <- names(df12)[6]  <- "PresentingSpecialist"
df15 <- names(df12)[7]  <- "PresentingPublic"
df15 <- names(df12)[8]  <- "ApplyingFunding"
df15 <- names(df12)[9]  <- "SatisCareer"
df15 <- names(df12)[10] <- "MngCompProj"
df15 <- names(df12)[11] <- "DevBusinessPlan"
df15 <- names(df12)[12] <- "MngPeople"
df15 <- names(df12)[13] <- "MngLargeBudget"
df15 <- names(df12)[14] <- "FeelProgPrepResearch"
df15 <- names(df12)[15] <- "FeelProgPrepScience"
df15 <- names(df12)[16] <- "FeelProgPrepMixIndAcad"
 
df15 <- df12
df <- df15
```



### Graphs!!!

####Gender against Collecting Data 
first graph, not incredibly interesting and also hampered by small sample size of Gender Queer/Non Binary and Prefer Not To Say
```{r}

groupedBarGenderCollecting <- ggplot(data = df) + 
  geom_bar(mapping = aes(x = Gender, fill = Collecting), position = "dodge")+
  scale_colour_brewer(palette = "BrBG") +
  scale_fill_brewer(palette = "BrBG") +
  scale_x_discrete(guide = guide_axis(n.dodge=2))


groupedBarGenderCollecting

```
A better proportional graph. This chunk also contains the code to reorder variables manually.
```{r}
data_new <- df
df <- data_new

df$Collecting <- factor(df$Collecting , levels=c("Very badly", "Badly", "Neither well nor badly", "Well", "Very well", "Unsure/Not applicable"))

data_new <- df
df <- data_new


ggplot(data = data_new) + 
  geom_bar(mapping = aes(x = Gender, fill = Collecting), position = "fill")+
  scale_colour_brewer(palette = "BrBg") +
  scale_fill_brewer(palette = "BrBG") +
  scale_x_discrete(guide = guide_axis(n.dodge=2))

```
Not bad, however the not sure/not applicable bit is distorting our visual analysis.





Same proportional graph, without Not Applicable variable value
```{r}
###New data frame, to ensure there are no issues down the line
graphdf1gender <- df
###Keep all values that are not containing "Unsure/Not applicable"
data_new1 <- graphdf1gender[!(graphdf1gender$Collecting == "Unsure/Not applicable"),]

###Refresh old graphdf1gender with data_new1 info
graphdf1gender <- data_new1

###Set variable order
graphdf1gender$Collecting <- factor(graphdf1gender$Collecting , levels=c("Very badly", "Badly", "Neither well nor badly", "Well", "Very well"))

##Plot
ggplot(data = data_new1) + 
  geom_bar(mapping = aes(x = Gender, fill = Collecting), position = "fill")+
  scale_colour_brewer(palette = "BrBg") +
  scale_fill_brewer(palette = "BrBG") +
  scale_x_discrete(guide = guide_axis(n.dodge=2))
```



#### Gender Against Analyzing Data

Analyzing
graphdf1genderAnalyzing
```{r}
###New data frame, to ensure there are no issues down the line
graphdf1genderAnalyzing <- df
###Keep all values that are not containing "Unsure/Not applicable"
graphdf1genderAnalyzing<- graphdf1genderAnalyzing[!(graphdf1genderAnalyzing$Analyzing == "Unsure/Not applicable"),]

###Refresh old graphdf1gender with data_new1 info
graphdf1genderAnalyzing <- graphdf1genderAnalyzing

###Set variable order
graphdf1genderAnalyzing$Analyzing <- factor(graphdf1genderAnalyzing$Analyzing , levels=c("Very badly", "Badly", "Neither well nor badly", "Well", "Very well"))

##Plot
ggplot(data = graphdf1genderAnalyzing) + 
  geom_bar(mapping = aes(x = Gender, fill = Analyzing), position = "fill")+
  scale_colour_brewer(palette = "BrBg") +
  scale_fill_brewer(palette = "BrBG") +
  scale_x_discrete(guide = guide_axis(n.dodge=2))
```

#### Gender Against Designing robust reproducible experiments

Designing
graphdf1genderDesigning
```{r}
###New data frame, to ensure there are no issues down the line
graphdf1genderDesigning <- df
###Keep all values that are not containing "Unsure/Not applicable"
graphdf1genderDesigning<- graphdf1genderDesigning[!(graphdf1genderDesigning$Designing == "Unsure/Not applicable"),]

###Refresh old graphdf1gender with data_new1 info
graphdf1genderDesigning <- graphdf1genderDesigning

###Set variable order
graphdf1genderDesigning$Designing <- factor(graphdf1genderDesigning$Designing , levels=c("Very badly", "Badly", "Neither well nor badly", "Well", "Very well"))

##Plot
ggplot(data = graphdf1genderDesigning) + 
  geom_bar(mapping = aes(x = Gender, fill = Designing), position = "fill")+
  scale_colour_brewer(palette = "BrBg") +
  scale_fill_brewer(palette = "BrBG") +
  scale_x_discrete(guide = guide_axis(n.dodge=2))
```

#### Gender Against Writing a paper for publication in a peer-reviewed journal

Writing
graphdf1genderWriting
```{r}
###New data frame, to ensure there are no issues down the line
graphdf1genderWriting <- df
###Keep all values that are not containing "Unsure/Not applicable"
graphdf1genderWriting<- graphdf1genderWriting[!(graphdf1genderWriting$Writing == "Unsure/Not applicable"),]

###Refresh old graphdf1gender with data_new1 info
graphdf1genderWriting <- graphdf1genderWriting

###Set variable order
graphdf1genderWriting$Writing <- factor(graphdf1genderWriting$Writing , levels=c("Very badly", "Badly", "Neither well nor badly", "Well", "Very well"))

##Plot
ggplot(data = graphdf1genderWriting) + 
  geom_bar(mapping = aes(x = Gender, fill = Writing), position = "fill")+
  scale_colour_brewer(palette = "BrBg") +
  scale_fill_brewer(palette = "BrBG") +
  scale_x_discrete(guide = guide_axis(n.dodge=2))
```

#### Gender Against Developing resilience to manage rejection by a peer review panel

DevResistance
graphdf1genderDevResistance
```{r}
###New data frame, to ensure there are no issues down the line
graphdf1genderDevResistance <- df
###Keep all values that are not containing "Unsure/Not applicable"
graphdf1genderDevResistance<- graphdf1genderDevResistance[!(graphdf1genderDevResistance$DevResistance == "Unsure/Not applicable"),]

###Refresh old graphdf1gender with data_new1 info
graphdf1genderDevResistance <- graphdf1genderDevResistance

###Set variable order
graphdf1genderDevResistance$DevResistance <- factor(graphdf1genderDevResistance$DevResistance , levels=c("Very badly", "Badly", "Neither well nor badly", "Well", "Very well"))

##Plot
ggplot(data = graphdf1genderDevResistance) + 
  geom_bar(mapping = aes(x = Gender, fill = DevResistance), position = "fill")+
  scale_colour_brewer(palette = "BrBg") +
  scale_fill_brewer(palette = "BrBG") +
  scale_x_discrete(guide = guide_axis(n.dodge=2))
```

#### Gender Against Presenting findings to a specialist audience

PresentingSpecialist
graphdf1genderPresentingSpecialist
```{r}
###New data frame, to ensure there are no issues down the line
graphdf1genderPresentingSpecialist <- df
###Keep all values that are not containing "Unsure/Not applicable"
graphdf1genderPresentingSpecialist<- graphdf1genderPresentingSpecialist[!(graphdf1genderPresentingSpecialist$PresentingSpecialist == "Unsure/Not applicable"),]

###Refresh old graphdf1gender with data_new1 info
graphdf1genderPresentingSpecialist <- graphdf1genderPresentingSpecialist

###Set variable order
graphdf1genderPresentingSpecialist$PresentingSpecialist <- factor(graphdf1genderPresentingSpecialist$PresentingSpecialist , levels=c("Very badly", "Badly", "Neither well nor badly", "Well", "Very well"))

##Plot
ggplot(data = graphdf1genderPresentingSpecialist) + 
  geom_bar(mapping = aes(x = Gender, fill = PresentingSpecialist), position = "fill")+
  scale_colour_brewer(palette = "BrBg") +
  scale_fill_brewer(palette = "BrBG") +
  scale_x_discrete(guide = guide_axis(n.dodge=2))
```

#### Gender Against Presenting findings to a non-specialist (public) audience

PresentingPublic
graphdf1genderPresentingPublic
```{r}
###New data frame, to ensure there are no issues down the line
graphdf1genderPresentingPublic <- df
###Keep all values that are not containing "Unsure/Not applicable"
graphdf1genderPresentingPublic<- graphdf1genderPresentingPublic[!(graphdf1genderPresentingPublic$PresentingPublic == "Unsure/Not applicable"),]

###Refresh old graphdf1gender with data_new1 info
graphdf1genderPresentingPublic <- graphdf1genderPresentingPublic

###Set variable order
graphdf1genderPresentingPublic$PresentingPublic <- factor(graphdf1genderPresentingPublic$PresentingPublic , levels=c("Very badly", "Badly", "Neither well nor badly", "Well", "Very well"))

##Plot
ggplot(data = graphdf1genderPresentingPublic) + 
  geom_bar(mapping = aes(x = Gender, fill = PresentingPublic), position = "fill")+
  scale_colour_brewer(palette = "BrBg") +
  scale_fill_brewer(palette = "BrBG") +
  scale_x_discrete(guide = guide_axis(n.dodge=2))
```

#### Gender Against Finding a Applying for funding

ApplyingFunding
graphdf1genderApplyingFunding
```{r}
###New data frame, to ensure there are no issues down the line
graphdf1genderApplyingFunding <- df
###Keep all values that are not containing "Unsure/Not applicable"
graphdf1genderApplyingFunding<- graphdf1genderApplyingFunding[!(graphdf1genderApplyingFunding$ApplyingFunding == "Unsure/Not applicable"),]

###Refresh old graphdf1gender with data_new1 info
graphdf1genderApplyingFunding <- graphdf1genderApplyingFunding

###Set variable order
graphdf1genderApplyingFunding$ApplyingFunding <- factor(graphdf1genderApplyingFunding$ApplyingFunding , levels=c("Very badly", "Badly", "Neither well nor badly", "Well", "Very well"))

##Plot
ggplot(data = graphdf1genderApplyingFunding) + 
  geom_bar(mapping = aes(x = Gender, fill = ApplyingFunding), position = "fill")+
  scale_colour_brewer(palette = "BrBg") +
  scale_fill_brewer(palette = "BrBG") +
  scale_x_discrete(guide = guide_axis(n.dodge=2))
```

#### Gender Against Finding a satisfying career

SatisCareer
graphdf1genderSatisCareer
```{r}
###New data frame, to ensure there are no issues down the line
graphdf1genderSatisCareer <- df
###Keep all values that are not containing "Unsure/Not applicable"
graphdf1genderSatisCareer<- graphdf1genderSatisCareer[!(graphdf1genderSatisCareer$SatisCareer == "Unsure/Not applicable"),]

###Refresh old graphdf1gender with data_new1 info
graphdf1genderSatisCareer <- graphdf1genderSatisCareer

###Set variable order
graphdf1genderSatisCareer$SatisCareer <- factor(graphdf1genderSatisCareer$SatisCareer , levels=c("Very badly", "Badly", "Neither well nor badly", "Well", "Very well"))

##Plot
ggplot(data = graphdf1genderSatisCareer) + 
  geom_bar(mapping = aes(x = Gender, fill = SatisCareer), position = "fill")+
  scale_colour_brewer(palette = "BrBg") +
  scale_fill_brewer(palette = "BrBG") +
  scale_x_discrete(guide = guide_axis(n.dodge=2))
```

#### Gender Against Managing complex projects

MngCompProj
graphdf1genderMngCompProj
```{r}
###New data frame, to ensure there are no issues down the line
graphdf1genderMngCompProj <- df
###Keep all values that are not containing "Unsure/Not applicable"
graphdf1genderMngCompProj<- graphdf1genderMngCompProj[!(graphdf1genderMngCompProj$MngCompProj == "Unsure/Not applicable"),]

###Refresh old graphdf1gender with data_new1 info
graphdf1genderMngCompProj <- graphdf1genderMngCompProj

###Set variable order
graphdf1genderMngCompProj$MngCompProj <- factor(graphdf1genderMngCompProj$MngCompProj , levels=c("Very badly", "Badly", "Neither well nor badly", "Well", "Very well"))

##Plot
ggplot(data = graphdf1genderMngCompProj) + 
  geom_bar(mapping = aes(x = Gender, fill = MngCompProj), position = "fill")+
  scale_colour_brewer(palette = "BrBg") +
  scale_fill_brewer(palette = "BrBG") +
  scale_x_discrete(guide = guide_axis(n.dodge=2))
```

#### Gender Against Developing a business plan

DevBusinessPlan
graphdf1genderDevBusinessPlan
```{r}
###New data frame, to ensure there are no issues down the line
graphdf1genderDevBusinessPlan <- df
###Keep all values that are not containing "Unsure/Not applicable"
graphdf1genderDevBusinessPlan<- graphdf1genderDevBusinessPlan[!(graphdf1genderDevBusinessPlan$DevBusinessPlan == "Unsure/Not applicable"),]

###Refresh old graphdf1gender with data_new1 info
graphdf1genderDevBusinessPlan <- graphdf1genderDevBusinessPlan

###Set variable order
graphdf1genderDevBusinessPlan$DevBusinessPlan <- factor(graphdf1genderDevBusinessPlan$DevBusinessPlan , levels=c("Very badly", "Badly", "Neither well nor badly", "Well", "Very well"))

##Plot
ggplot(data = graphdf1genderDevBusinessPlan) + 
  geom_bar(mapping = aes(x = Gender, fill = DevBusinessPlan), position = "fill")+
  scale_colour_brewer(palette = "BrBg") +
  scale_fill_brewer(palette = "BrBG") +
  scale_x_discrete(guide = guide_axis(n.dodge=2))
```

#### Gender Against Managing people

MngPeople
graphdf1genderMngPeople
```{r}
###New data frame, to ensure there are no issues down the line
graphdf1genderMngPeople <- df
###Keep all values that are not containing "Unsure/Not applicable"
graphdf1genderMngPeople<- graphdf1genderMngPeople[!(graphdf1genderMngPeople$MngPeople == "Unsure/Not applicable"),]

###Refresh old graphdf1gender with data_new1 info
graphdf1genderMngPeople <- graphdf1genderMngPeople

###Set variable order
graphdf1genderMngPeople$MngPeople <- factor(graphdf1genderMngPeople$MngPeople , levels=c("Very badly", "Badly", "Neither well nor badly", "Well", "Very well"))

##Plot
ggplot(data = graphdf1genderMngPeople) + 
  geom_bar(mapping = aes(x = Gender, fill = MngPeople), position = "fill")+
  scale_colour_brewer(palette = "BrBg") +
  scale_fill_brewer(palette = "BrBG") +
  scale_x_discrete(guide = guide_axis(n.dodge=2))
```

#### Gender Against Managing a large operational budget

MngLargeBudget
graphdf1genderMngLargeBudget
```{r}
###New data frame, to ensure there are no issues down the line
graphdf1genderMngLargeBudget <- df
###Keep all values that are not containing "Unsure/Not applicable"
graphdf1genderMngLargeBudget<- graphdf1genderMngLargeBudget[!(graphdf1genderMngLargeBudget$MngLargeBudget == "Unsure/Not applicable"),]

###Refresh old graphdf1gender with data_new1 info
graphdf1genderMngLargeBudget <- graphdf1genderMngLargeBudget

###Set variable order
graphdf1genderMngLargeBudget$MngLargeBudget <- factor(graphdf1genderMngLargeBudget$MngLargeBudget , levels=c("Very badly", "Badly", "Neither well nor badly", "Well", "Very well"))

##Plot
ggplot(data = graphdf1genderMngLargeBudget) + 
  geom_bar(mapping = aes(x = Gender, fill = MngLargeBudget), position = "fill")+
  scale_colour_brewer(palette = "BrBg") +
  scale_fill_brewer(palette = "BrBG") +
  scale_x_discrete(guide = guide_axis(n.dodge=2))
```

#### Gender Against I feel that my programme is preparing me well for a research career

FeelProgPrepResearch
graphdf1genderFeelProgPrepResearch
```{r}
###New data frame, to ensure there are no issues down the line
graphdf1genderFeelProgPrepResearch <- df
###Keep all values that are not containing "Unsure/Not applicable"
graphdf1genderFeelProgPrepResearch<- graphdf1genderFeelProgPrepResearch[!(graphdf1genderFeelProgPrepResearch$FeelProgPrepResearch == "I don't know"),]

###Refresh old graphdf1gender with data_new1 info
graphdf1genderFeelProgPrepResearch <- graphdf1genderFeelProgPrepResearch

###Set variable order
graphdf1genderFeelProgPrepResearch$FeelProgPrepResearch <- factor(graphdf1genderFeelProgPrepResearch$FeelProgPrepResearch , levels=c("Strongly disagree", "Disagree", "Neither agree nor disagree", "Agree", "Strongly agree"))

##Plot
ggplot(data = graphdf1genderFeelProgPrepResearch) + 
  geom_bar(mapping = aes(x = Gender, fill = FeelProgPrepResearch), position = "fill")+
  scale_colour_brewer(palette = "BrBg") +
  scale_fill_brewer(palette = "BrBG") +
  scale_x_discrete(guide = guide_axis(n.dodge=2))
```

#### Gender Against I feel that my programme is perparing me well for a non-research science-related career

FeelProgPrepScience
graphdf1genderFeelProgPrepScience
```{r}
###New data frame, to ensure there are no issues down the line
graphdf1genderFeelProgPrepScience <- df
###Keep all values that are not containing "Unsure/Not applicable"
graphdf1genderFeelProgPrepScience<- graphdf1genderFeelProgPrepScience[!(graphdf1genderFeelProgPrepScience$FeelProgPrepScience == "I don't know"),]

###Refresh old graphdf1gender with data_new1 info
graphdf1genderFeelProgPrepScience <- graphdf1genderFeelProgPrepScience

###Set variable order
graphdf1genderFeelProgPrepScience$FeelProgPrepScience <- factor(graphdf1genderFeelProgPrepScience$FeelProgPrepScience , levels=c("Strongly disagree", "Disagree", "Neither agree nor disagree", "Agree", "Strongly agree"))

##Plot
ggplot(data = graphdf1genderFeelProgPrepScience) + 
  geom_bar(mapping = aes(x = Gender, fill = FeelProgPrepScience), position = "fill")+
  scale_colour_brewer(palette = "BrBg") +
  scale_fill_brewer(palette = "BrBG") +
  scale_x_discrete(guide = guide_axis(n.dodge=2))
```

#### Gender Against I feel that my programme is preparing me well for a career that straddles both industry and academia

FeelProgPrepMixIndAcad
graphdf1genderFeelProgPrepMixIndAcad
```{r}
###New data frame, to ensure there are no issues down the line
graphdf1genderFeelProgPrepMixIndAcad <- df
###Keep all values that are not containing "Unsure/Not applicable"
graphdf1genderFeelProgPrepMixIndAcad<- graphdf1genderFeelProgPrepMixIndAcad[!(graphdf1genderFeelProgPrepMixIndAcad$FeelProgPrepMixIndAcad == "I don't know"),]

###Refresh old graphdf1gender with data_new1 info
graphdf1genderFeelProgPrepMixIndAcad <- graphdf1genderFeelProgPrepMixIndAcad

###Set variable order
graphdf1genderFeelProgPrepMixIndAcad$FeelProgPrepMixIndAcad <- factor(graphdf1genderFeelProgPrepMixIndAcad$FeelProgPrepMixIndAcad , levels=c("Strongly disagree", "Disagree", "Neither agree nor disagree", "Agree", "Strongly agree"))

##Plot
ggplot(data = graphdf1genderFeelProgPrepMixIndAcad) + 
  geom_bar(mapping = aes(x = Gender, fill = FeelProgPrepMixIndAcad), position = "fill")+
  scale_colour_brewer(palette = "BrBg") +
  scale_fill_brewer(palette = "BrBG") +
  scale_x_discrete(guide = guide_axis(n.dodge=2))
```





This will be the bread and butter of this assignment. It looks beautiful. Waffle Graph, must have info input manually. Still beautiful.
```{r}
parts <- c(`Un-breached\nUS Population` = (318 - 11 - 79), `Premera` = 11, `Anthem` = 79)

waffle(
  parts, rows = 8, size = 1,
  colors = c("#969696", "#1879bf", "#009bda"), legend_pos = "bottom"
)
```






Analysis that isn't working yet
```{r}
#lm1 <- lm(data = df, Collecting ~ Gender) # the model

#summary(lm1) # summarizes the output of the model
```














### Appendix: Misc Example Code Area

How to rename once
```{r}
###AV Script to rename one or multiples, same for multiples but just repeat first line till the end and second line once at the end. Both lines are required for a successful renaming and creation of a new data frame. I have no idea why.

#df14 <- names(df13)[1] <- "Collecting" 
#df14 <- df13

```

Basic plot
```{r}
#ggplot(data = df) + 
    ###actual plot bit
 # geom_bar(mapping = aes(x = Gender, fill = Collecting), position = "fill")+
    ###color
  #scale_colour_brewer(palette = "BrBg") +
   #scale_fill_brewer(palette = "BrBG") +
  ### Makes sure that the names/titles/labels do not overlap
     #scale_x_discrete(guide = guide_axis(n.dodge=2))
```

Creating new data frames by selecting only rows with a certain value
```{r}
#Possibly create new dataframes by row value
#df12Male <- df12[df12$'Gender' == 'Male (including trans male)',]
#df12Female <- df12[df12$'Gender' == 'Female (including trans female)',]
#df12GenderQueerandorNonBinary <- df12[df12$'Gender' == 'Gender queer / Non binary',]
```

```{r}

```

```{r}

```








## Gender Analysis against Training and Readiness (Q50)

Gender count and gender proportion analysis, and data frame creation
```{r}
###Output A Table and dataframe with the values needed
tableGender <- table(df11['Gender'])
genderCount<- as.data.frame(tableGender)

###Proportional Analysis
genderProportion <- as.data.frame(table(df11$Gender)/length(df11$Gender))
###Display Output genderProportion
genderProportion
```

Creation of different data frames for analysis by gender, against training efficacy for certain tasks(Q50).
```{r}
df12 <- df11[c(201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,242)]

df12M <- df12[df12$'Gender' == 'Male (including trans male)',]
df12F <- df12[df12$'Gender' == 'Female (including trans female)',]
df12GQNB <- df12[df12$'Gender' == 'Gender queer / Non binary',]
```

Whole workflow for analysis using "Male (including trans male)" value row selection
```{r}

###Select relevant columns/variables

### Rename Variable/Column to be analyzed, the dependent, by index
df13M <- df12M
df14M <- df13M
df14M <- names(df13M)[1] <- "Collecting"
df14M <- df13M


###Plot the bit
#ggplot(df14M, aes( Collecting, colour = Gender)) +   geom_bar() ###Just another way to plot the data

barplotMCollectingData <- ggplot(df14M, aes( Collecting, colour = Gender)) + 
  geom_bar()+
  scale_x_discrete(guide = guide_axis(n.dodge=2))

###Display Plot
barplotMCollectingData

```

Analysis for Collecting Data Variable against Gender, Count and Proportion
```{r}
###Output A Table and dataframe, possible first step in analysis given grouping. difficult to say, would replace collecting with M, F, GQNB, as derived from dfM, dfF, dfGQNB, then combine, then analyze.
#Collecting <- table(df12['Collecting'])
#genderVsCollecting <- as.data.frame.array(Collecting)
#genderVsCollecting


###Proportional Analysis
CollectingProportion <- as.data.frame(table(df12$Collecting)/length(df12$Collecting))
###Display Output
CollectingProportion
```

Some data transformations and a rename, so that I could copy and paste from online sources which predominantly use "df" or "data" and not df23 or whatever I'm doing. Here is where I seem to have renamed df12's Collecting column and not df12m's, accounting for the difference between the two.
```{r}

df15 <- names(df12)[1]  <- "Collecting"
df15 <- names(df12)[2]  <- "Analyzing"
df15 <- names(df12)[3]  <- "Designing"
df15 <- names(df12)[4]  <- "Writing"
df15 <- names(df12)[5]  <- "DevResistance"
df15 <- names(df12)[6]  <- "PresentingSpecialist"
df15 <- names(df12)[7]  <- "PresentingPublic"
df15 <- names(df12)[8]  <- "ApplyingFunding"
df15 <- names(df12)[9]  <- "SatisCareer"
df15 <- names(df12)[10] <- "MngCompProj"
df15 <- names(df12)[11] <- "DevBusinessPlan"
df15 <- names(df12)[12] <- "MngPeople"
df15 <- names(df12)[13] <- "MngLargeBudget"
df15 <- names(df12)[14] <- "FeelProgPrepResearch"
df15 <- names(df12)[15] <- "FeelProgPrepScience"
df15 <- names(df12)[16] <- "FeelProgPrepMixIndAcad"
 
df15 <- df12
df <- df15
```



### Graphs!!!

####Gender against Collecting Data 
first graph, not incredibly interesting and also hampered by small sample size of Gender Queer/Non Binary and Prefer Not To Say
```{r}

groupedBarGenderCollecting <- ggplot(data = df) + 
  geom_bar(mapping = aes(x = Gender, fill = Collecting), position = "dodge")+
  scale_colour_brewer(palette = "BrBG") +
  scale_fill_brewer(palette = "BrBG") +
  scale_x_discrete(guide = guide_axis(n.dodge=2))


groupedBarGenderCollecting

```
A better proportional graph. This chunk also contains the code to reorder variables manually.
```{r}
data_new <- df
df <- data_new

df$Collecting <- factor(df$Collecting , levels=c("Very badly", "Badly", "Neither well nor badly", "Well", "Very well", "Unsure/Not applicable"))

data_new <- df
df <- data_new


ggplot(data = data_new) + 
  geom_bar(mapping = aes(x = Gender, fill = Collecting), position = "fill")+
  scale_colour_brewer(palette = "BrBg") +
  scale_fill_brewer(palette = "BrBG") +
  scale_x_discrete(guide = guide_axis(n.dodge=2))

```
Not bad, however the not sure/not applicable bit is distorting our visual analysis.





Same proportional graph, without Not Applicable variable value
```{r}
###New data frame, to ensure there are no issues down the line
graphdf1gender <- df
###Keep all values that are not containing "Unsure/Not applicable"
data_new1 <- graphdf1gender[!(graphdf1gender$Collecting == "Unsure/Not applicable"),]

###Refresh old graphdf1gender with data_new1 info
graphdf1gender <- data_new1

###Set variable order
graphdf1gender$Collecting <- factor(graphdf1gender$Collecting , levels=c("Very badly", "Badly", "Neither well nor badly", "Well", "Very well"))

##Plot
ggplot(data = data_new1) + 
  geom_bar(mapping = aes(x = Gender, fill = Collecting), position = "fill")+
  scale_colour_brewer(palette = "BrBg") +
  scale_fill_brewer(palette = "BrBG") +
  scale_x_discrete(guide = guide_axis(n.dodge=2))
```



#### Gender Against Analyzing Data

Analyzing
graphdf1genderAnalyzing
```{r}
###New data frame, to ensure there are no issues down the line
graphdf1genderAnalyzing <- df
###Keep all values that are not containing "Unsure/Not applicable"
graphdf1genderAnalyzing<- graphdf1genderAnalyzing[!(graphdf1genderAnalyzing$Analyzing == "Unsure/Not applicable"),]

###Refresh old graphdf1gender with data_new1 info
graphdf1genderAnalyzing <- graphdf1genderAnalyzing

###Set variable order
graphdf1genderAnalyzing$Analyzing <- factor(graphdf1genderAnalyzing$Analyzing , levels=c("Very badly", "Badly", "Neither well nor badly", "Well", "Very well"))

##Plot
ggplot(data = graphdf1genderAnalyzing) + 
  geom_bar(mapping = aes(x = Gender, fill = Analyzing), position = "fill")+
  scale_colour_brewer(palette = "BrBg") +
  scale_fill_brewer(palette = "BrBG") +
  scale_x_discrete(guide = guide_axis(n.dodge=2))
```

#### Gender Against Designing robust reproducible experiments

Designing
graphdf1genderDesigning
```{r}
###New data frame, to ensure there are no issues down the line
graphdf1genderDesigning <- df
###Keep all values that are not containing "Unsure/Not applicable"
graphdf1genderDesigning<- graphdf1genderDesigning[!(graphdf1genderDesigning$Designing == "Unsure/Not applicable"),]

###Refresh old graphdf1gender with data_new1 info
graphdf1genderDesigning <- graphdf1genderDesigning

###Set variable order
graphdf1genderDesigning$Designing <- factor(graphdf1genderDesigning$Designing , levels=c("Very badly", "Badly", "Neither well nor badly", "Well", "Very well"))

##Plot
ggplot(data = graphdf1genderDesigning) + 
  geom_bar(mapping = aes(x = Gender, fill = Designing), position = "fill")+
  scale_colour_brewer(palette = "BrBg") +
  scale_fill_brewer(palette = "BrBG") +
  scale_x_discrete(guide = guide_axis(n.dodge=2))
```

#### Gender Against Writing a paper for publication in a peer-reviewed journal

Writing
graphdf1genderWriting
```{r}
###New data frame, to ensure there are no issues down the line
graphdf1genderWriting <- df
###Keep all values that are not containing "Unsure/Not applicable"
graphdf1genderWriting<- graphdf1genderWriting[!(graphdf1genderWriting$Writing == "Unsure/Not applicable"),]

###Refresh old graphdf1gender with data_new1 info
graphdf1genderWriting <- graphdf1genderWriting

###Set variable order
graphdf1genderWriting$Writing <- factor(graphdf1genderWriting$Writing , levels=c("Very badly", "Badly", "Neither well nor badly", "Well", "Very well"))

##Plot
ggplot(data = graphdf1genderWriting) + 
  geom_bar(mapping = aes(x = Gender, fill = Writing), position = "fill")+
  scale_colour_brewer(palette = "BrBg") +
  scale_fill_brewer(palette = "BrBG") +
  scale_x_discrete(guide = guide_axis(n.dodge=2))
```

#### Gender Against Developing resilience to manage rejection by a peer review panel

DevResistance
graphdf1genderDevResistance
```{r}
###New data frame, to ensure there are no issues down the line
graphdf1genderDevResistance <- df
###Keep all values that are not containing "Unsure/Not applicable"
graphdf1genderDevResistance<- graphdf1genderDevResistance[!(graphdf1genderDevResistance$DevResistance == "Unsure/Not applicable"),]

###Refresh old graphdf1gender with data_new1 info
graphdf1genderDevResistance <- graphdf1genderDevResistance

###Set variable order
graphdf1genderDevResistance$DevResistance <- factor(graphdf1genderDevResistance$DevResistance , levels=c("Very badly", "Badly", "Neither well nor badly", "Well", "Very well"))

##Plot
ggplot(data = graphdf1genderDevResistance) + 
  geom_bar(mapping = aes(x = Gender, fill = DevResistance), position = "fill")+
  scale_colour_brewer(palette = "BrBg") +
  scale_fill_brewer(palette = "BrBG") +
  scale_x_discrete(guide = guide_axis(n.dodge=2))
```

#### Gender Against Presenting findings to a specialist audience

PresentingSpecialist
graphdf1genderPresentingSpecialist
```{r}
###New data frame, to ensure there are no issues down the line
graphdf1genderPresentingSpecialist <- df
###Keep all values that are not containing "Unsure/Not applicable"
graphdf1genderPresentingSpecialist<- graphdf1genderPresentingSpecialist[!(graphdf1genderPresentingSpecialist$PresentingSpecialist == "Unsure/Not applicable"),]

###Refresh old graphdf1gender with data_new1 info
graphdf1genderPresentingSpecialist <- graphdf1genderPresentingSpecialist

###Set variable order
graphdf1genderPresentingSpecialist$PresentingSpecialist <- factor(graphdf1genderPresentingSpecialist$PresentingSpecialist , levels=c("Very badly", "Badly", "Neither well nor badly", "Well", "Very well"))

##Plot
ggplot(data = graphdf1genderPresentingSpecialist) + 
  geom_bar(mapping = aes(x = Gender, fill = PresentingSpecialist), position = "fill")+
  scale_colour_brewer(palette = "BrBg") +
  scale_fill_brewer(palette = "BrBG") +
  scale_x_discrete(guide = guide_axis(n.dodge=2))
```

#### Gender Against Presenting findings to a non-specialist (public) audience

PresentingPublic
graphdf1genderPresentingPublic
```{r}
###New data frame, to ensure there are no issues down the line
graphdf1genderPresentingPublic <- df
###Keep all values that are not containing "Unsure/Not applicable"
graphdf1genderPresentingPublic<- graphdf1genderPresentingPublic[!(graphdf1genderPresentingPublic$PresentingPublic == "Unsure/Not applicable"),]

###Refresh old graphdf1gender with data_new1 info
graphdf1genderPresentingPublic <- graphdf1genderPresentingPublic

###Set variable order
graphdf1genderPresentingPublic$PresentingPublic <- factor(graphdf1genderPresentingPublic$PresentingPublic , levels=c("Very badly", "Badly", "Neither well nor badly", "Well", "Very well"))

##Plot
ggplot(data = graphdf1genderPresentingPublic) + 
  geom_bar(mapping = aes(x = Gender, fill = PresentingPublic), position = "fill")+
  scale_colour_brewer(palette = "BrBg") +
  scale_fill_brewer(palette = "BrBG") +
  scale_x_discrete(guide = guide_axis(n.dodge=2))
```

#### Gender Against Finding a Applying for funding

ApplyingFunding
graphdf1genderApplyingFunding
```{r}
###New data frame, to ensure there are no issues down the line
graphdf1genderApplyingFunding <- df
###Keep all values that are not containing "Unsure/Not applicable"
graphdf1genderApplyingFunding<- graphdf1genderApplyingFunding[!(graphdf1genderApplyingFunding$ApplyingFunding == "Unsure/Not applicable"),]

###Refresh old graphdf1gender with data_new1 info
graphdf1genderApplyingFunding <- graphdf1genderApplyingFunding

###Set variable order
graphdf1genderApplyingFunding$ApplyingFunding <- factor(graphdf1genderApplyingFunding$ApplyingFunding , levels=c("Very badly", "Badly", "Neither well nor badly", "Well", "Very well"))

##Plot
ggplot(data = graphdf1genderApplyingFunding) + 
  geom_bar(mapping = aes(x = Gender, fill = ApplyingFunding), position = "fill")+
  scale_colour_brewer(palette = "BrBg") +
  scale_fill_brewer(palette = "BrBG") +
  scale_x_discrete(guide = guide_axis(n.dodge=2))
```

#### Gender Against Finding a satisfying career

SatisCareer
graphdf1genderSatisCareer
```{r}
###New data frame, to ensure there are no issues down the line
graphdf1genderSatisCareer <- df
###Keep all values that are not containing "Unsure/Not applicable"
graphdf1genderSatisCareer<- graphdf1genderSatisCareer[!(graphdf1genderSatisCareer$SatisCareer == "Unsure/Not applicable"),]

###Refresh old graphdf1gender with data_new1 info
graphdf1genderSatisCareer <- graphdf1genderSatisCareer

###Set variable order
graphdf1genderSatisCareer$SatisCareer <- factor(graphdf1genderSatisCareer$SatisCareer , levels=c("Very badly", "Badly", "Neither well nor badly", "Well", "Very well"))

##Plot
ggplot(data = graphdf1genderSatisCareer) + 
  geom_bar(mapping = aes(x = Gender, fill = SatisCareer), position = "fill")+
  scale_colour_brewer(palette = "BrBg") +
  scale_fill_brewer(palette = "BrBG") +
  scale_x_discrete(guide = guide_axis(n.dodge=2))
```

#### Gender Against Managing complex projects

MngCompProj
graphdf1genderMngCompProj
```{r}
###New data frame, to ensure there are no issues down the line
graphdf1genderMngCompProj <- df
###Keep all values that are not containing "Unsure/Not applicable"
graphdf1genderMngCompProj<- graphdf1genderMngCompProj[!(graphdf1genderMngCompProj$MngCompProj == "Unsure/Not applicable"),]

###Refresh old graphdf1gender with data_new1 info
graphdf1genderMngCompProj <- graphdf1genderMngCompProj

###Set variable order
graphdf1genderMngCompProj$MngCompProj <- factor(graphdf1genderMngCompProj$MngCompProj , levels=c("Very badly", "Badly", "Neither well nor badly", "Well", "Very well"))

##Plot
ggplot(data = graphdf1genderMngCompProj) + 
  geom_bar(mapping = aes(x = Gender, fill = MngCompProj), position = "fill")+
  scale_colour_brewer(palette = "BrBg") +
  scale_fill_brewer(palette = "BrBG") +
  scale_x_discrete(guide = guide_axis(n.dodge=2))
```

#### Gender Against Developing a business plan

DevBusinessPlan
graphdf1genderDevBusinessPlan
```{r}
###New data frame, to ensure there are no issues down the line
graphdf1genderDevBusinessPlan <- df
###Keep all values that are not containing "Unsure/Not applicable"
graphdf1genderDevBusinessPlan<- graphdf1genderDevBusinessPlan[!(graphdf1genderDevBusinessPlan$DevBusinessPlan == "Unsure/Not applicable"),]

###Refresh old graphdf1gender with data_new1 info
graphdf1genderDevBusinessPlan <- graphdf1genderDevBusinessPlan

###Set variable order
graphdf1genderDevBusinessPlan$DevBusinessPlan <- factor(graphdf1genderDevBusinessPlan$DevBusinessPlan , levels=c("Very badly", "Badly", "Neither well nor badly", "Well", "Very well"))

##Plot
ggplot(data = graphdf1genderDevBusinessPlan) + 
  geom_bar(mapping = aes(x = Gender, fill = DevBusinessPlan), position = "fill")+
  scale_colour_brewer(palette = "BrBg") +
  scale_fill_brewer(palette = "BrBG") +
  scale_x_discrete(guide = guide_axis(n.dodge=2))
```

#### Gender Against Managing people

MngPeople
graphdf1genderMngPeople
```{r}
###New data frame, to ensure there are no issues down the line
graphdf1genderMngPeople <- df
###Keep all values that are not containing "Unsure/Not applicable"
graphdf1genderMngPeople<- graphdf1genderMngPeople[!(graphdf1genderMngPeople$MngPeople == "Unsure/Not applicable"),]

###Refresh old graphdf1gender with data_new1 info
graphdf1genderMngPeople <- graphdf1genderMngPeople

###Set variable order
graphdf1genderMngPeople$MngPeople <- factor(graphdf1genderMngPeople$MngPeople , levels=c("Very badly", "Badly", "Neither well nor badly", "Well", "Very well"))

##Plot
ggplot(data = graphdf1genderMngPeople) + 
  geom_bar(mapping = aes(x = Gender, fill = MngPeople), position = "fill")+
  scale_colour_brewer(palette = "BrBg") +
  scale_fill_brewer(palette = "BrBG") +
  scale_x_discrete(guide = guide_axis(n.dodge=2))
```

#### Gender Against Managing a large operational budget

MngLargeBudget
graphdf1genderMngLargeBudget
```{r}
###New data frame, to ensure there are no issues down the line
graphdf1genderMngLargeBudget <- df
###Keep all values that are not containing "Unsure/Not applicable"
graphdf1genderMngLargeBudget<- graphdf1genderMngLargeBudget[!(graphdf1genderMngLargeBudget$MngLargeBudget == "Unsure/Not applicable"),]

###Refresh old graphdf1gender with data_new1 info
graphdf1genderMngLargeBudget <- graphdf1genderMngLargeBudget

###Set variable order
graphdf1genderMngLargeBudget$MngLargeBudget <- factor(graphdf1genderMngLargeBudget$MngLargeBudget , levels=c("Very badly", "Badly", "Neither well nor badly", "Well", "Very well"))

##Plot
ggplot(data = graphdf1genderMngLargeBudget) + 
  geom_bar(mapping = aes(x = Gender, fill = MngLargeBudget), position = "fill")+
  scale_colour_brewer(palette = "BrBg") +
  scale_fill_brewer(palette = "BrBG") +
  scale_x_discrete(guide = guide_axis(n.dodge=2))
```

#### Gender Against I feel that my programme is preparing me well for a research career

FeelProgPrepResearch
graphdf1genderFeelProgPrepResearch
```{r}
###New data frame, to ensure there are no issues down the line
graphdf1genderFeelProgPrepResearch <- df
###Keep all values that are not containing "Unsure/Not applicable"
graphdf1genderFeelProgPrepResearch<- graphdf1genderFeelProgPrepResearch[!(graphdf1genderFeelProgPrepResearch$FeelProgPrepResearch == "I don't know"),]

###Refresh old graphdf1gender with data_new1 info
graphdf1genderFeelProgPrepResearch <- graphdf1genderFeelProgPrepResearch

###Set variable order
graphdf1genderFeelProgPrepResearch$FeelProgPrepResearch <- factor(graphdf1genderFeelProgPrepResearch$FeelProgPrepResearch , levels=c("Strongly disagree", "Disagree", "Neither agree nor disagree", "Agree", "Strongly agree"))

##Plot
ggplot(data = graphdf1genderFeelProgPrepResearch) + 
  geom_bar(mapping = aes(x = Gender, fill = FeelProgPrepResearch), position = "fill")+
  scale_colour_brewer(palette = "BrBg") +
  scale_fill_brewer(palette = "BrBG") +
  scale_x_discrete(guide = guide_axis(n.dodge=2))
```

#### Gender Against I feel that my programme is perparing me well for a non-research science-related career

FeelProgPrepScience
graphdf1genderFeelProgPrepScience
```{r}
###New data frame, to ensure there are no issues down the line
graphdf1genderFeelProgPrepScience <- df
###Keep all values that are not containing "Unsure/Not applicable"
graphdf1genderFeelProgPrepScience<- graphdf1genderFeelProgPrepScience[!(graphdf1genderFeelProgPrepScience$FeelProgPrepScience == "I don't know"),]

###Refresh old graphdf1gender with data_new1 info
graphdf1genderFeelProgPrepScience <- graphdf1genderFeelProgPrepScience

###Set variable order
graphdf1genderFeelProgPrepScience$FeelProgPrepScience <- factor(graphdf1genderFeelProgPrepScience$FeelProgPrepScience , levels=c("Strongly disagree", "Disagree", "Neither agree nor disagree", "Agree", "Strongly agree"))

##Plot
ggplot(data = graphdf1genderFeelProgPrepScience) + 
  geom_bar(mapping = aes(x = Gender, fill = FeelProgPrepScience), position = "fill")+
  scale_colour_brewer(palette = "BrBg") +
  scale_fill_brewer(palette = "BrBG") +
  scale_x_discrete(guide = guide_axis(n.dodge=2))
```

#### Gender Against I feel that my programme is preparing me well for a career that straddles both industry and academia

FeelProgPrepMixIndAcad
graphdf1genderFeelProgPrepMixIndAcad
```{r}
###New data frame, to ensure there are no issues down the line
graphdf1genderFeelProgPrepMixIndAcad <- df
###Keep all values that are not containing "Unsure/Not applicable"
graphdf1genderFeelProgPrepMixIndAcad<- graphdf1genderFeelProgPrepMixIndAcad[!(graphdf1genderFeelProgPrepMixIndAcad$FeelProgPrepMixIndAcad == "I don't know"),]

###Refresh old graphdf1gender with data_new1 info
graphdf1genderFeelProgPrepMixIndAcad <- graphdf1genderFeelProgPrepMixIndAcad

###Set variable order
graphdf1genderFeelProgPrepMixIndAcad$FeelProgPrepMixIndAcad <- factor(graphdf1genderFeelProgPrepMixIndAcad$FeelProgPrepMixIndAcad , levels=c("Strongly disagree", "Disagree", "Neither agree nor disagree", "Agree", "Strongly agree"))

##Plot
ggplot(data = graphdf1genderFeelProgPrepMixIndAcad) + 
  geom_bar(mapping = aes(x = Gender, fill = FeelProgPrepMixIndAcad), position = "fill")+
  scale_colour_brewer(palette = "BrBg") +
  scale_fill_brewer(palette = "BrBG") +
  scale_x_discrete(guide = guide_axis(n.dodge=2))
```





This will be the bread and butter of this assignment. It looks beautiful. Waffle Graph, must have info input manually. Still beautiful.
```{r}
parts <- c(`Un-breached\nUS Population` = (318 - 11 - 79), `Premera` = 11, `Anthem` = 79)

waffle(
  parts, rows = 8, size = 1,
  colors = c("#969696", "#1879bf", "#009bda"), legend_pos = "bottom"
)
```






Analysis that isn't working yet
```{r}
#lm1 <- lm(data = df, Collecting ~ Gender) # the model

#summary(lm1) # summarizes the output of the model
```














### Appendix: Misc Example Code Area

How to rename once
```{r}
###AV Script to rename one or multiples, same for multiples but just repeat first line till the end and second line once at the end. Both lines are required for a successful renaming and creation of a new data frame. I have no idea why.

#df14 <- names(df13)[1] <- "Collecting" 
#df14 <- df13

```

Basic plot
```{r}
#ggplot(data = df) + 
    ###actual plot bit
 # geom_bar(mapping = aes(x = Gender, fill = Collecting), position = "fill")+
    ###color
  #scale_colour_brewer(palette = "BrBg") +
   #scale_fill_brewer(palette = "BrBG") +
  ### Makes sure that the names/titles/labels do not overlap
     #scale_x_discrete(guide = guide_axis(n.dodge=2))
```

Creating new data frames by selecting only rows with a certain value
```{r}
#Possibly create new dataframes by row value
#df12Male <- df12[df12$'Gender' == 'Male (including trans male)',]
#df12Female <- df12[df12$'Gender' == 'Female (including trans female)',]
#df12GenderQueerandorNonBinary <- df12[df12$'Gender' == 'Gender queer / Non binary',]
```

```{r}

```

```{r}

```






